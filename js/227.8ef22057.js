"use strict";(self["webpackChunkweb_shop"]=self["webpackChunkweb_shop"]||[]).push([[227],{2227:function(t,e,i){i.r(e),i.d(e,{default:function(){return C}});var s=i(6252),a=i(3577),r=i(4971),l=i(2692);const c=t=>((0,s.dD)("data-v-91681566"),t=t(),(0,s.Cn)(),t),n={class:"products"},g=c((()=>(0,s._)("div",{class:"banner"},"BỘ SƯU TẬP HÈ 2023",-1))),h={class:"grid"},p={class:"list-item"},o=["src"],u={key:1,src:r,alt:"",class:"item-img"},d={key:2,class:"sale"},m=c((()=>(0,s._)("img",{src:l,alt:"",class:"",style:{width:"100px",height:"100px"}},null,-1))),y={class:"product-name"},_={class:"price-sold"},b={key:0},v={key:1,style:{color:"red","font-weight":"700"}},w={class:"v-pagination__container"},k=c((()=>(0,s._)("div",{class:"pagination__left"},null,-1))),f={class:"pagination__right"},N={class:"pagination"},L=["onClick"];function T(t,e,i,r,l,c){const T=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",n,[g,(0,s._)("div",h,[(0,s._)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"item",key:t.id},[(0,s.Wm)(T,{class:"item-link",to:{name:"product",params:{id:t.id}}},{default:(0,s.w5)((()=>[t.imageEntities[0]?((0,s.wg)(),(0,s.iD)("img",{key:0,src:this.urlbe+"/file/"+t.imageEntities[0].imgURL,alt:"",class:"item-img"},null,8,o)):((0,s.wg)(),(0,s.iD)("img",u)),t.discount>0?((0,s.wg)(),(0,s.iD)("div",d,[m,(0,s.Uk)(" "+(0,a.zw)(t.discount)+"% ",1)])):(0,s.kq)("",!0),(0,s._)("div",y,(0,a.zw)(t.productName),1),(0,s._)("div",_,[0==t.discount?((0,s.wg)(),(0,s.iD)("h2",b,(0,a.zw)(c.formatPrice(t.price)),1)):(0,s.kq)("",!0),t.discount>0?((0,s.wg)(),(0,s.iD)("h2",v,(0,a.zw)(c.formatPrice(t.price*(100-t.discount)/100)),1)):(0,s.kq)("",!0),(0,s._)("h4",null,"Đã bán "+(0,a.zw)(t.numOrder),1)])])),_:2},1032,["to"])])))),128))]),(0,s._)("div",w,[k,(0,s._)("div",f,[(0,s._)("div",N,[(0,s._)("div",{class:"pagination__prev",onClick:e[0]||(e[0]=t=>c.changePage("prev"))},"<"),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.pages,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:(0,a.C_)(["pagination__item",{"pagination__item--active":t==l.pageNumber}]),onClick:e=>c.changePage(t)},(0,a.zw)(t),11,L)))),128)),(0,s._)("div",{class:"pagination__after",onClick:e[1]||(e[1]=t=>c.changePage("after"))},">")])])])])])}i(7658);var P=i(6154),F={data(){return{products:[],url:this.urlbe+"/product/list?",search:"",gender:"",categorytype:0,category:0,type:"Summer",userRateFilter:0,priceGT:0,priceLT:0,typeSort:"id",isSort:"desc",totalItem:0,totalPage:0,pageNumber:1,limit:8,shoppingCart:[],displayFilter:!1,displayTypeFilter:!1}},props:["islogin","isAdmin","urlbe"],created(){this.getList(),this.getTypeList()},methods:{formatPrice(t){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t)},changePageLimit(t){this.limit=t,this.getList()},openFilter(){this.displayFilter=!this.displayFilter},sortChange(){"asc"==this.isSort?this.isSort="desc":this.isSort="asc",this.getList()},userRateStar(t){this.userRateFilter=t},onSearch(){this.pageNumber=1,this.getList()},changePage(t){"prev"==t&&this.pageNumber>1?this.pageNumber--:"after"==t&&this.pageNumber<this.totalPage?this.pageNumber++:"number"==typeof t&&(this.pageNumber=t),this.getList()},changeType(t){this.category=t,this.pageNumber=1,this.getList(),this.displayTypeFilter=!0},changeTypeSort(t){this.typeSort=t,this.pageNumber=1,this.getList()},filter(){this.pageNumber=1,this.getList(),this.displayFilter=!1},unType(){this.type="",this.pageNumber=1,this.getList(),this.displayTypeFilter=!1},unfilter(){this.pageNumber=1,this.userRateFilter=0,this.priceGT=0,this.priceLT=0,this.getList(),this.displayFilter=!1},async getTypeList(){try{const t=await P.Z.get(this.urlbe+"/category/list?type=0&limit=100&page=1");this.listType=t.data.content}catch(t){console.error(t)}},async getList(){try{const t=await P.Z.get(this.url+"search="+this.search+"&gender="+this.gender+"&categorytype="+this.categorytype+"&category="+this.category+"&type="+this.type+"&rate="+this.userRateFilter+"&pricegt="+this.priceGT+"&pricelt="+this.priceLT+"&limit="+this.limit+"&page="+this.pageNumber+"&sortby="+this.typeSort+"&sort="+this.isSort);this.products=t.data.content,this.totalPage=t.data.totalPages,this.totalItem=t.data.totalElements}catch(t){console.error(t)}}},computed:{records(){return[{key:12,value:"12 sản phẩm trên 1 trang"},{key:24,value:"24 sản phẩm trên 1 trang"},{key:36,value:"36 sản phẩm trên 1 trang"}]},pages(){let t=[];for(let e=1;e<=this.totalPage;e++)1==e||e==this.totalPage||Math.abs(e-this.pageNumber)<=2?t.push(e):3==Math.abs(e-this.pageNumber)&&t.push("...");return t}}},S=i(3744);const D=(0,S.Z)(F,[["render",T],["__scopeId","data-v-91681566"]]);var C=D}}]);
//# sourceMappingURL=227.8ef22057.js.map