{"version":3,"file":"js/581.e72a0b73.js","mappings":"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","sources":["webpack://web-shop/./src/views/LoginView.vue","webpack://web-shop/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <img class=\"wave\" src=\"../assets/img/wave.png\" />\r\n    <div class=\"container\">\r\n      <div class=\"img\">\r\n        <img src=\"../assets/img/undraw_window_shopping_re_0kbm.svg\" />\r\n      </div>\r\n      <div class=\"login-content\">\r\n        <div action=\"index.html\">\r\n          <form @submit.prevent=\"submitForm\">\r\n            <img src=\"../assets/img/avatar.svg\" />\r\n            <h2 class=\"title\">Welcome</h2>\r\n            <div class=\"input-div one\">\r\n              <div class=\"i\">\r\n                <font-awesome-icon :icon=\"['fas', 'user']\" />\r\n              </div>\r\n              <div class=\"div\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"input\"\r\n                  placeholder=\"Username\"\r\n                  v-model=\"username\"\r\n                />\r\n              </div>\r\n              <span v-if=\"errors.username\">\r\n                {{ errors.username }}\r\n              </span>\r\n            </div>\r\n            <div class=\"input-div pass\">\r\n              <div class=\"i\">\r\n                <font-awesome-icon :icon=\"['fas', 'lock']\" />\r\n              </div>\r\n              <div class=\"div\">\r\n                <input\r\n                  type=\"password\"\r\n                  class=\"input\"\r\n                  placeholder=\"Password\"\r\n                  v-model=\"password\"\r\n                />\r\n              </div>\r\n              <span v-if=\"errors.password\">\r\n                {{ errors.password }}\r\n              </span>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn\">Login</button>\r\n          </form>\r\n          <div style=\"display: flex; justify-content: space-between\">\r\n          <router-link to=\"/register\">Register</router-link>\r\n          <router-link to=\"/forgot\">Forgot Password</router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      token: \"\",\r\n      user: {},\r\n      errors: {},\r\n    };\r\n  },\r\n\r\n    props: [\"islogin\", \"isAdmin\", \"urlbe\", \"urlGW\"],\r\n\r\n  methods: {\r\n    async submitForm() {\r\n      this.errors = {};\r\n\r\n      if (this.username == \"\") {\r\n        this.errors.username = \"Username is required.\";\r\n      } else if (!await this.checkAcountUser()) {\r\n        this.errors.username = \"Username not exists.\";\r\n      }\r\n\r\n      if (this.password == \"\") {\r\n        this.errors.password = \"Password is required.\";\r\n      } else if (!this.validPassword(this.password)) {\r\n        this.errors.password = \"Password must be at least 6 characters.\";\r\n      }\r\n\r\n      if (Object.keys(this.errors).length === 0) {\r\n        await this.login();\r\n      }\r\n    },\r\n\r\n    async login() {\r\n      try {\r\n        const response = await axios.post(this.urlGW + \"/auth/login\", {\r\n          username: this.username,\r\n          password: this.password,\r\n        });\r\n        this.token = response.data;\r\n        localStorage.setItem(\"token\", this.token);\r\n        var currentURL = window.location.href;\r\n        var baseURL = currentURL.replace('/login', '');\r\n        window.location.replace(baseURL);\r\n      } catch (error) {\r\n        this.errors.password = \"Wrong password\";\r\n      }\r\n    },\r\n\r\n    async current() {\r\n      try {\r\n        const response = await axios.get(this.urlGW + \"/auth/current\", {\r\n          headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n          },\r\n        });\r\n        this.user = response.data;\r\n        return this.user;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    \r\n    validPassword(password) {\r\n      return password.length >= 6;\r\n    },\r\n\r\n    async checkAcountUser() {\r\n      try {\r\n        const response = await axios.get(\r\n          this.urlGW + \"/auth/checkusername?username=\" + this.username,\r\n          {\r\n            headers: {\r\n              \"Access-Control-Allow-Origin\": \"*\",\r\n            },\r\n          }\r\n        );\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    // },\r\n    // async getRandom() {\r\n    //   try {\r\n    //     const response = await axios.get(this.urlbe + \"/api/random\", {\r\n    //       headers: {\r\n    //         Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n    //       },\r\n    //     });\r\n    //     console.log(response);\r\n    //   } catch (error) {\r\n    //     console.error(error);\r\n    //   }\r\n    // },\r\n    // sendMessage() {\r\n    //   this.$emit('message-sent', 'Hello from child');\r\n    // }\r\n  },\r\n\r\n  created() {\r\n    \r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  font-family: \"Poppins\", sans-serif;\r\n  overflow: hidden;\r\n}\r\n\r\n.wave {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  z-index: -1;\r\n}\r\n\r\n.container {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-gap: 7rem;\r\n  padding: 0 2rem;\r\n}\r\n\r\n.img {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n}\r\n\r\n.login-content {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n\r\n.img img {\r\n  width: 500px;\r\n}\r\n\r\nform {\r\n  width: 360px;\r\n}\r\n\r\n.login-content img {\r\n  height: 100px;\r\n}\r\n\r\n.login-content h2 {\r\n  margin: 15px 0;\r\n  color: #333;\r\n  text-transform: uppercase;\r\n  font-size: 2.9rem;\r\n}\r\n\r\n.login-content .input-div {\r\n  position: relative;\r\n  display: grid;\r\n  grid-template-columns: 7% 93%;\r\n  margin: 25px 0;\r\n  padding: 5px 0;\r\n  border-bottom: 2px solid #d9d9d9;\r\n}\r\n\r\n.login-content .input-div.one {\r\n  margin-top: 0;\r\n}\r\n\r\n.i {\r\n  color: #d9d9d9;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.i i {\r\n  transition: 0.3s;\r\n}\r\n\r\n.input-div > div {\r\n  position: relative;\r\n  height: 45px;\r\n}\r\n\r\n.input-div span {\r\n  bottom: 0;\r\n  left: 1;\r\n  position: absolute;\r\n  color: red;\r\n}\r\n\r\n.input-div > div > h5 {\r\n  position: absolute;\r\n  left: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #999;\r\n  font-size: 18px;\r\n  transition: 0.3s;\r\n}\r\n\r\n.input-div:before,\r\n.input-div:after {\r\n  content: \"\";\r\n  position: absolute;\r\n  bottom: -2px;\r\n  width: 0%;\r\n  height: 2px;\r\n  background-color: #38d39f;\r\n  transition: 0.4s;\r\n}\r\n\r\n.input-div:before {\r\n  right: 50%;\r\n}\r\n\r\n.input-div:after {\r\n  left: 50%;\r\n}\r\n\r\n.input-div.focus:before,\r\n.input-div.focus:after {\r\n  width: 50%;\r\n}\r\n\r\n.input-div.focus > div > h5 {\r\n  top: -5px;\r\n  font-size: 15px;\r\n}\r\n\r\n.input-div.focus > .i > i {\r\n  color: #38d39f;\r\n}\r\n\r\n.input-div > div > input {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  padding: 0.5rem 0.7rem;\r\n  font-size: 1.2rem;\r\n  color: #555;\r\n  font-family: \"poppins\", sans-serif;\r\n}\r\n\r\n.input-div.pass {\r\n  margin-bottom: 4px;\r\n}\r\n\r\na {\r\n  display: block;\r\n  text-align: right;\r\n  text-decoration: none;\r\n  color: #999;\r\n  font-size: 0.9rem;\r\n  transition: 0.3s;\r\n}\r\n\r\na:hover {\r\n  color: #38d39f;\r\n}\r\n\r\n.btn {\r\n  display: block;\r\n  width: 100%;\r\n  height: 50px;\r\n  border-radius: 25px;\r\n  outline: none;\r\n  border: none;\r\n  background-image: linear-gradient(to right, #32be8f, #38d39f, #32be8f);\r\n  background-size: 200%;\r\n  font-size: 1.2rem;\r\n  color: #fff;\r\n  font-family: \"Poppins\", sans-serif;\r\n  text-transform: uppercase;\r\n  margin: 1rem 0;\r\n  cursor: pointer;\r\n  transition: 0.5s;\r\n}\r\n.btn:hover {\r\n  background-position: right;\r\n}\r\n\r\n@media screen and (max-width: 1050px) {\r\n  .container {\r\n    grid-gap: 5rem;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 1000px) {\r\n  form {\r\n    width: 290px;\r\n  }\r\n\r\n  .login-content h2 {\r\n    font-size: 2.4rem;\r\n    margin: 8px 0;\r\n  }\r\n\r\n  .img img {\r\n    width: 400px;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 900px) {\r\n  .container {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .img {\r\n    display: none;\r\n  }\r\n\r\n  .wave {\r\n    display: none;\r\n  }\r\n\r\n  .login-content {\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=5426a424&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=5426a424&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5426a424\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","_imports_1","action","_imports_2","type","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_createVNode","_component_font_awesome_icon","icon","_hoisted_11","placeholder","$data","username","$event","errors","_hoisted_12","_toDisplayString","_hoisted_13","_hoisted_14","_hoisted_15","password","_hoisted_16","_hoisted_17","_hoisted_18","_component_router_link","to","data","token","user","props","methods","this","checkAcountUser","validPassword","Object","keys","length","login","response","axios","post","urlGW","localStorage","setItem","currentURL","window","location","href","baseURL","replace","error","current","get","headers","Authorization","getItem","console","created","__exports__","render"],"sourceRoot":""}