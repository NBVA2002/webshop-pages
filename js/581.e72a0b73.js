"use strict";(self["webpackChunkweb_shop"]=self["webpackChunkweb_shop"]||[]).push([[581],{3581:function(s,e,r){r.r(e),r.d(e,{default:function(){return Z}});var t=r(6252),a=r(9963),o=r(3577),n=r(1576),i=r(7732),c=r(1337);const l=s=>((0,t.dD)("data-v-5426a424"),s=s(),(0,t.Cn)(),s),u={class:"container"},d=l((()=>(0,t._)("img",{class:"wave",src:n},null,-1))),p={class:"container"},w=l((()=>(0,t._)("div",{class:"img"},[(0,t._)("img",{src:i})],-1))),h={class:"login-content"},m={action:"index.html"},g=l((()=>(0,t._)("img",{src:c},null,-1))),v=l((()=>(0,t._)("h2",{class:"title"},"Welcome",-1))),_={class:"input-div one"},k={class:"i"},f={class:"div"},b={key:0},y={class:"input-div pass"},W={class:"i"},U={class:"div"},A={key:0},x=l((()=>(0,t._)("button",{type:"submit",class:"btn"},"Login",-1))),P={style:{display:"flex","justify-content":"space-between"}};function C(s,e,r,n,i,c){const l=(0,t.up)("font-awesome-icon"),C=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",u,[d,(0,t._)("div",p,[w,(0,t._)("div",h,[(0,t._)("div",m,[(0,t._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...s)=>c.submitForm&&c.submitForm(...s)),["prevent"]))},[g,v,(0,t._)("div",_,[(0,t._)("div",k,[(0,t.Wm)(l,{icon:["fas","user"]})]),(0,t._)("div",f,[(0,t.wy)((0,t._)("input",{type:"text",class:"input",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=s=>i.username=s)},null,512),[[a.nr,i.username]])]),i.errors.username?((0,t.wg)(),(0,t.iD)("span",b,(0,o.zw)(i.errors.username),1)):(0,t.kq)("",!0)]),(0,t._)("div",y,[(0,t._)("div",W,[(0,t.Wm)(l,{icon:["fas","lock"]})]),(0,t._)("div",U,[(0,t.wy)((0,t._)("input",{type:"password",class:"input",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=s=>i.password=s)},null,512),[[a.nr,i.password]])]),i.errors.password?((0,t.wg)(),(0,t.iD)("span",A,(0,o.zw)(i.errors.password),1)):(0,t.kq)("",!0)]),x],32),(0,t._)("div",P,[(0,t.Wm)(C,{to:"/register"},{default:(0,t.w5)((()=>[(0,t.Uk)("Register")])),_:1}),(0,t.Wm)(C,{to:"/forgot"},{default:(0,t.w5)((()=>[(0,t.Uk)("Forgot Password")])),_:1})])])])])])}var q=r(6154),D={data(){return{username:"",password:"",token:"",user:{},errors:{}}},props:["islogin","isAdmin","urlbe","urlGW"],methods:{async submitForm(){this.errors={},""==this.username?this.errors.username="Username is required.":await this.checkAcountUser()||(this.errors.username="Username not exists."),""==this.password?this.errors.password="Password is required.":this.validPassword(this.password)||(this.errors.password="Password must be at least 6 characters."),0===Object.keys(this.errors).length&&await this.login()},async login(){try{const r=await q.Z.post(this.urlGW+"/auth/login",{username:this.username,password:this.password});this.token=r.data,localStorage.setItem("token",this.token);var s=window.location.href,e=s.replace("/login","");window.location.replace(e)}catch(r){this.errors.password="Wrong password"}},async current(){try{const s=await q.Z.get(this.urlGW+"/auth/current",{headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("token")}});return this.user=s.data,this.user}catch(s){console.error(s)}},validPassword(s){return s.length>=6},async checkAcountUser(){try{const s=await q.Z.get(this.urlGW+"/auth/checkusername?username="+this.username,{headers:{"Access-Control-Allow-Origin":"*"}});return s.data}catch(s){console.error(s)}}},created(){}},F=r(3744);const G=(0,F.Z)(D,[["render",C],["__scopeId","data-v-5426a424"]]);var Z=G},1337:function(s,e,r){s.exports=r.p+"img/avatar.604201df.svg"},7732:function(s,e,r){s.exports=r.p+"img/undraw_window_shopping_re_0kbm.ec3b3bbf.svg"},1576:function(s,e,r){s.exports=r.p+"img/wave.8eed88c3.png"}}]);
//# sourceMappingURL=581.e72a0b73.js.map