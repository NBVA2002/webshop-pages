"use strict";(self["webpackChunkweb_shop"]=self["webpackChunkweb_shop"]||[]).push([[71],{6071:function(t,e,i){i.r(e),i.d(e,{default:function(){return M}});var s=i(6252),a=i(3577),r=i(9963),l=i(4971),c=i(2692);const n=t=>((0,s.dD)("data-v-6131cd2a"),t=t(),(0,s.Cn)(),t),o={class:"products"},p=n((()=>(0,s._)("div",{class:"banner"},null,-1))),u={class:"grid"},g={class:"select-type"},h=["onClick"],_={class:"show"},y=["value"],d={key:0,class:"filter-list"},m=n((()=>(0,s._)("div",null,"Lọc giá trong khoảng",-1))),v=n((()=>(0,s._)("br",null,null,-1))),k=n((()=>(0,s._)("br",null,null,-1))),b=n((()=>(0,s._)("div",null,"Đánh giá từ",-1))),C={class:"rate-star"},f=n((()=>(0,s._)("div",null,"trở lên",-1))),w={class:"pagination__left"},T={class:"list-item"},S=["src"],L={key:1,src:l,alt:"",class:"item-img"},N={key:2,class:"sale"},F=n((()=>(0,s._)("img",{src:c,alt:"",class:"",style:{width:"100px",height:"100px"}},null,-1))),D={class:"product-name"},R={class:"price-sold"},P={key:0},z={key:1,style:{color:"red","font-weight":"700"}},W={class:"v-pagination__container"},U=n((()=>(0,s._)("div",{class:"pagination__left"},null,-1))),q={class:"pagination__right"},x={class:"pagination"},G=["onClick"];function E(t,e,i,l,c,n){const E=(0,s.up)("font-awesome-icon"),H=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",o,[p,(0,s._)("div",u,[(0,s._)("div",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.listType,(t=>((0,s.wg)(),(0,s.iD)("div",{class:(0,a.C_)(["sort__by-name",{typesort__active:c.category==t.id}]),key:t.id,onClick:e=>n.changeType(t.id)},(0,a.zw)(t.categoryName),11,h)))),128)),c.displayTypeFilter?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"btn_untype",onClick:e[0]||(e[0]=(...t)=>n.unType&&n.unType(...t))},"x")):(0,s.kq)("",!0)]),(0,s._)("div",_,[(0,s.wy)((0,s._)("select",{class:"combo-box__size","onUpdate:modelValue":e[1]||(e[1]=t=>c.limit=t),onChange:e[2]||(e[2]=t=>n.changePageLimit(c.limit))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.records,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.key,value:t.key},(0,a.zw)(t.value),9,y)))),128))],544),[[r.bM,c.limit]]),(0,s._)("div",{class:(0,a.C_)(["sort__by-name",{typesort__active:"id"==c.typeSort}]),onClick:e[3]||(e[3]=t=>n.changeTypeSort("id"))}," Mới ",2),(0,s._)("div",{class:(0,a.C_)(["sort__by-name",{typesort__active:"productName"==c.typeSort}]),onClick:e[4]||(e[4]=t=>n.changeTypeSort("productName"))}," Tên ",2),(0,s._)("div",{class:(0,a.C_)(["sort__by-name",{typesort__active:"price"==c.typeSort}]),onClick:e[5]||(e[5]=t=>n.changeTypeSort("price"))}," Giá ",2),(0,s._)("div",{class:(0,a.C_)(["sort__by-name",{typesort__active:"rate"==c.typeSort}]),onClick:e[6]||(e[6]=t=>n.changeTypeSort("rate"))}," Sao ",2),(0,s._)("div",{class:(0,a.C_)(["sort__by-name",{typesort__active:"numEvaluate"==c.typeSort}]),onClick:e[7]||(e[7]=t=>n.changeTypeSort("numEvaluate"))}," Lượt đánh giá ",2),(0,s._)("div",{class:(0,a.C_)(["sort__by-name",{typesort__active:"numOrder"==c.typeSort}]),onClick:e[8]||(e[8]=t=>n.changeTypeSort("numOrder"))}," Lượt mua ",2),(0,s._)("div",{class:"change__sort-arr",onClick:e[9]||(e[9]=(...t)=>n.sortChange&&n.sortChange(...t))},[(0,s.Wm)(E,{icon:["fas","sort-up"],class:(0,a.C_)(["sort-arr",{sort__active:"asc"==c.isSort}])},null,8,["class"]),(0,s.Wm)(E,{icon:["fas","sort-down"],class:(0,a.C_)(["sort-arr",{sort__active:"desc"==c.isSort}])},null,8,["class"])]),(0,s.Wm)(E,{icon:["fas","filter"],class:"filter",onClick:n.openFilter},null,8,["onClick"]),c.displayFilter?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("form",null,[m,(0,s.Uk)(" Từ   "),(0,s.wy)((0,s._)("input",{type:"text",class:"input-filter","onUpdate:modelValue":e[10]||(e[10]=t=>c.priceGT=t)},null,512),[[r.nr,c.priceGT]]),(0,s.Uk)(" Đến "),(0,s.wy)((0,s._)("input",{type:"text",class:"input-filter","onUpdate:modelValue":e[11]||(e[11]=t=>c.priceLT=t)},null,512),[[r.nr,c.priceLT]]),v,k,b,(0,s._)("div",C,[(0,s.Wm)(E,{icon:["fas","star"],class:(0,a.C_)(["star",{"star-active":1==c.userRateFilter}]),onClick:e[12]||(e[12]=t=>n.userRateStar(1))},null,8,["class"]),(0,s.Wm)(E,{icon:["fas","star"],class:(0,a.C_)(["star",{"star-active":2==c.userRateFilter}]),onClick:e[13]||(e[13]=t=>n.userRateStar(2))},null,8,["class"]),(0,s.Wm)(E,{icon:["fas","star"],class:(0,a.C_)(["star",{"star-active":3==c.userRateFilter}]),onClick:e[14]||(e[14]=t=>n.userRateStar(3))},null,8,["class"]),(0,s.Wm)(E,{icon:["fas","star"],class:(0,a.C_)(["star",{"star-active":4==c.userRateFilter}]),onClick:e[15]||(e[15]=t=>n.userRateStar(4))},null,8,["class"]),(0,s.Wm)(E,{icon:["fas","star"],class:(0,a.C_)(["star",{"star-active":5==c.userRateFilter}]),onClick:e[16]||(e[16]=t=>n.userRateStar(5))},null,8,["class"])]),f]),(0,s._)("button",{class:"filter-btn",onClick:e[17]||(e[17]=(...t)=>n.filter&&n.filter(...t))},"Lọc"),(0,s._)("button",{class:"unfilter-btn",onClick:e[18]||(e[18]=(...t)=>n.unfilter&&n.unfilter(...t))},"Hủy Lọc")])):(0,s.kq)("",!0)]),(0,s._)("div",w,[(0,s._)("span",null,"Tìm thấy "+(0,a.zw)(c.totalItem)+" kết quả : ",1)]),(0,s._)("div",T,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.products,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"item",key:t.id},[(0,s.Wm)(H,{class:"item-link",to:{name:"product",params:{id:t.id}}},{default:(0,s.w5)((()=>[t.imageEntities[0]?((0,s.wg)(),(0,s.iD)("img",{key:0,src:this.urlbe+"/file/"+t.imageEntities[0].imgURL,alt:"",class:"item-img"},null,8,S)):((0,s.wg)(),(0,s.iD)("img",L)),t.discount>0?((0,s.wg)(),(0,s.iD)("div",N,[F,(0,s.Uk)(" "+(0,a.zw)(t.discount)+"% ",1)])):(0,s.kq)("",!0),(0,s._)("div",D,(0,a.zw)(t.productName),1),(0,s._)("div",R,[0==t.discount?((0,s.wg)(),(0,s.iD)("h2",P,(0,a.zw)(n.formatPrice(t.price)),1)):(0,s.kq)("",!0),t.discount>0?((0,s.wg)(),(0,s.iD)("h2",z,(0,a.zw)(n.formatPrice(t.price*(100-t.discount)/100)),1)):(0,s.kq)("",!0),(0,s._)("h4",null,"Đã bán "+(0,a.zw)(t.numOrder),1)])])),_:2},1032,["to"])])))),128))]),(0,s._)("div",W,[U,(0,s._)("div",q,[(0,s._)("div",x,[(0,s._)("div",{class:"pagination__prev",onClick:e[19]||(e[19]=t=>n.changePage("prev"))},"<"),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.pages,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:(0,a.C_)(["pagination__item",{"pagination__item--active":t==c.pageNumber}]),onClick:e=>n.changePage(t)},(0,a.zw)(t),11,G)))),128)),(0,s._)("div",{class:"pagination__after",onClick:e[20]||(e[20]=t=>n.changePage("after"))},">")])])])])])}i(7658);var H=i(6154),I={data(){return{listType:[],products:[],url:this.urlbe+"/product/list?",search:"",gender:"",categorytype:0,category:0,type:"",userRateFilter:0,priceGT:0,priceLT:0,typeSort:"id",isSort:"desc",totalItem:0,totalPage:0,pageNumber:1,limit:12,shoppingCart:[],displayFilter:!1,displayTypeFilter:!1}},props:["islogin","isAdmin","urlbe"],created(){this.getList(),this.getTypeList()},methods:{formatPrice(t){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t)},changePageLimit(t){this.limit=t,this.getList()},openFilter(){this.displayFilter=!this.displayFilter},sortChange(){"asc"==this.isSort?this.isSort="desc":this.isSort="asc",this.getList()},userRateStar(t){this.userRateFilter=t},onSearch(){this.pageNumber=1,this.getList()},changePage(t){"prev"==t&&this.pageNumber>1?this.pageNumber--:"after"==t&&this.pageNumber<this.totalPage?this.pageNumber++:"number"==typeof t&&(this.pageNumber=t),this.getList()},changeType(t){this.category=t,this.pageNumber=1,this.getList(),this.displayTypeFilter=!0},changeTypeSort(t){this.typeSort=t,this.pageNumber=1,this.getList()},filter(){this.pageNumber=1,this.getList(),this.displayFilter=!1},unType(){this.category=0,this.pageNumber=1,this.getList(),this.displayTypeFilter=!1},unfilter(){this.pageNumber=1,this.userRateFilter=0,this.priceGT=0,this.priceLT=0,this.getList(),this.displayFilter=!1},async getTypeList(){try{const t=await H.Z.get(this.urlbe+"/category/list?type=0&limit=100&page=1");this.listType=t.data.content}catch(t){console.error(t)}},async getList(){try{const t=await H.Z.get(this.url+"search="+this.search+"&gender="+this.gender+"&categorytype="+this.categorytype+"&category="+this.category+"&type="+this.type+"&rate="+this.userRateFilter+"&pricegt="+this.priceGT+"&pricelt="+this.priceLT+"&limit="+this.limit+"&page="+this.pageNumber+"&sortby="+this.typeSort+"&sort="+this.isSort);this.products=t.data.content,this.totalPage=t.data.totalPages,this.totalItem=t.data.totalElements}catch(t){console.error(t)}}},computed:{records(){return[{key:12,value:"12 sản phẩm trên 1 trang"},{key:24,value:"24 sản phẩm trên 1 trang"},{key:36,value:"36 sản phẩm trên 1 trang"}]},pages(){let t=[];for(let e=1;e<=this.totalPage;e++)1==e||e==this.totalPage||Math.abs(e-this.pageNumber)<=2?t.push(e):3==Math.abs(e-this.pageNumber)&&t.push("...");return t}}},V=i(3744);const K=(0,V.Z)(I,[["render",E],["__scopeId","data-v-6131cd2a"]]);var M=K}}]);
//# sourceMappingURL=71.0e9c2803.js.map