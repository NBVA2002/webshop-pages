"use strict";(self["webpackChunkweb_shop"]=self["webpackChunkweb_shop"]||[]).push([[9],{8009:function(t,e,i){i.r(e),i.d(e,{default:function(){return Y}});var s=i(6252),a=i(9963),r=i(3577),l=i(4971),c=i(2692);const n=t=>((0,s.dD)("data-v-7beb367c"),t=t(),(0,s.Cn)(),t),o={class:"products"},p=n((()=>(0,s._)("div",{class:"banner"},null,-1))),u=n((()=>(0,s._)("button",{type:"submit",class:"search-btn"},"Tìm kiếm",-1))),h={key:0,class:"grid"},g={class:"select-type"},y=["onClick"],_={class:"show"},d=["value"],m={key:0,class:"filter-list"},v=n((()=>(0,s._)("div",null,"Lọc giá trong khoảng",-1))),k=n((()=>(0,s._)("br",null,null,-1))),b=n((()=>(0,s._)("br",null,null,-1))),C=n((()=>(0,s._)("div",null,"Đánh giá từ",-1))),f={class:"rate-star"},w=n((()=>(0,s._)("div",null,"trở lên",-1))),S={class:"pagination__left"},T={class:"list-item"},L=["src"],N={key:1,src:l,alt:"",class:"item-img"},F={key:2,class:"sale"},D=n((()=>(0,s._)("img",{src:c,alt:"",class:"",style:{width:"100px",height:"100px"}},null,-1))),R={class:"product-name"},P={class:"price-sold"},z={key:0},W={key:1,style:{color:"red","font-weight":"700"}},U={class:"v-pagination__container"},q=n((()=>(0,s._)("div",{class:"pagination__left"},null,-1))),x={class:"pagination__right"},G={class:"pagination"},V=["onClick"];function E(t,e,i,l,c,n){const E=(0,s.up)("font-awesome-icon"),H=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",o,[p,(0,s._)("form",{onSubmit:e[1]||(e[1]=(0,a.iM)(((...t)=>n.onSearch&&n.onSearch(...t)),["prevent"])),class:"search"},[(0,s.wy)((0,s._)("input",{type:"text",class:"search-input",placeholder:"Search...","onUpdate:modelValue":e[0]||(e[0]=t=>c.search=t),id:"idsearch"},null,512),[[a.nr,c.search]]),u],32),c.isSearch&&""!=c.search?((0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("div",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.listType,(t=>((0,s.wg)(),(0,s.iD)("div",{class:(0,r.C_)(["sort__by-name",{typesort__active:c.category==t.id}]),key:t.id,onClick:e=>n.changeType(t.id)},(0,r.zw)(t.categoryName),11,y)))),128)),c.displayTypeFilter?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"btn_untype",onClick:e[2]||(e[2]=(...t)=>n.unType&&n.unType(...t))},"x")):(0,s.kq)("",!0)]),(0,s._)("div",_,[(0,s.wy)((0,s._)("select",{class:"combo-box__size","onUpdate:modelValue":e[3]||(e[3]=t=>c.limit=t),onChange:e[4]||(e[4]=t=>n.changePageLimit(c.limit))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.records,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.key,value:t.key},(0,r.zw)(t.value),9,d)))),128))],544),[[a.bM,c.limit]]),(0,s._)("div",{class:(0,r.C_)(["sort__by-name",{typesort__active:"id"==c.typeSort}]),onClick:e[5]||(e[5]=t=>n.changeTypeSort("id"))}," Mới ",2),(0,s._)("div",{class:(0,r.C_)(["sort__by-name",{typesort__active:"productName"==c.typeSort}]),onClick:e[6]||(e[6]=t=>n.changeTypeSort("productName"))}," Tên ",2),(0,s._)("div",{class:(0,r.C_)(["sort__by-name",{typesort__active:"price"==c.typeSort}]),onClick:e[7]||(e[7]=t=>n.changeTypeSort("price"))}," Giá ",2),(0,s._)("div",{class:(0,r.C_)(["sort__by-name",{typesort__active:"rate"==c.typeSort}]),onClick:e[8]||(e[8]=t=>n.changeTypeSort("rate"))}," Sao ",2),(0,s._)("div",{class:(0,r.C_)(["sort__by-name",{typesort__active:"numEvaluate"==c.typeSort}]),onClick:e[9]||(e[9]=t=>n.changeTypeSort("numEvaluate"))}," Lượt đánh giá ",2),(0,s._)("div",{class:(0,r.C_)(["sort__by-name",{typesort__active:"numOrder"==c.typeSort}]),onClick:e[10]||(e[10]=t=>n.changeTypeSort("numOrder"))}," Lượt mua ",2),(0,s._)("div",{class:"change__sort-arr",onClick:e[11]||(e[11]=(...t)=>n.sortChange&&n.sortChange(...t))},[(0,s.Wm)(E,{icon:["fas","sort-up"],class:(0,r.C_)(["sort-arr",{sort__active:"asc"==c.isSort}])},null,8,["class"]),(0,s.Wm)(E,{icon:["fas","sort-down"],class:(0,r.C_)(["sort-arr",{sort__active:"desc"==c.isSort}])},null,8,["class"])]),(0,s.Wm)(E,{icon:["fas","filter"],class:"filter",onClick:n.openFilter},null,8,["onClick"]),c.displayFilter?((0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("form",null,[v,(0,s.Uk)(" Từ   "),(0,s.wy)((0,s._)("input",{type:"text",class:"input-filter","onUpdate:modelValue":e[12]||(e[12]=t=>c.priceGT=t)},null,512),[[a.nr,c.priceGT]]),(0,s.Uk)(" Đến "),(0,s.wy)((0,s._)("input",{type:"text",class:"input-filter","onUpdate:modelValue":e[13]||(e[13]=t=>c.priceLT=t)},null,512),[[a.nr,c.priceLT]]),k,b,C,(0,s._)("div",f,[(0,s.Wm)(E,{icon:["fas","star"],class:(0,r.C_)(["star",{"star-active":1==c.userRateFilter}]),onClick:e[14]||(e[14]=t=>n.userRateStar(1))},null,8,["class"]),(0,s.Wm)(E,{icon:["fas","star"],class:(0,r.C_)(["star",{"star-active":2==c.userRateFilter}]),onClick:e[15]||(e[15]=t=>n.userRateStar(2))},null,8,["class"]),(0,s.Wm)(E,{icon:["fas","star"],class:(0,r.C_)(["star",{"star-active":3==c.userRateFilter}]),onClick:e[16]||(e[16]=t=>n.userRateStar(3))},null,8,["class"]),(0,s.Wm)(E,{icon:["fas","star"],class:(0,r.C_)(["star",{"star-active":4==c.userRateFilter}]),onClick:e[17]||(e[17]=t=>n.userRateStar(4))},null,8,["class"]),(0,s.Wm)(E,{icon:["fas","star"],class:(0,r.C_)(["star",{"star-active":5==c.userRateFilter}]),onClick:e[18]||(e[18]=t=>n.userRateStar(5))},null,8,["class"])]),w]),(0,s._)("button",{class:"filter-btn",onClick:e[19]||(e[19]=(...t)=>n.filter&&n.filter(...t))},"Lọc"),(0,s._)("button",{class:"unfilter-btn",onClick:e[20]||(e[20]=(...t)=>n.unfilter&&n.unfilter(...t))},"Hủy Lọc")])):(0,s.kq)("",!0)]),(0,s._)("div",S,[(0,s._)("span",null,"Tìm thấy "+(0,r.zw)(c.totalItem)+" kết quả : ",1)]),(0,s._)("div",T,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.products,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"item",key:t.id},[(0,s.Wm)(H,{class:"item-link",to:{name:"product",params:{id:t.id}}},{default:(0,s.w5)((()=>[t.imageEntities[0]?((0,s.wg)(),(0,s.iD)("img",{key:0,src:this.urlbe+"/file/"+t.imageEntities[0].imgURL,alt:"",class:"item-img"},null,8,L)):((0,s.wg)(),(0,s.iD)("img",N)),t.discount>0?((0,s.wg)(),(0,s.iD)("div",F,[D,(0,s.Uk)(" "+(0,r.zw)(t.discount)+"% ",1)])):(0,s.kq)("",!0),(0,s._)("div",R,(0,r.zw)(t.productName),1),(0,s._)("div",P,[0==t.discount?((0,s.wg)(),(0,s.iD)("h2",z,(0,r.zw)(n.formatPrice(t.price)),1)):(0,s.kq)("",!0),t.discount>0?((0,s.wg)(),(0,s.iD)("h2",W,(0,r.zw)(n.formatPrice(t.price*(100-t.discount)/100)),1)):(0,s.kq)("",!0),(0,s._)("h4",null,"Đã bán "+(0,r.zw)(t.numOrder),1)])])),_:2},1032,["to"])])))),128))]),(0,s._)("div",U,[q,(0,s._)("div",x,[(0,s._)("div",G,[(0,s._)("div",{class:"pagination__prev",onClick:e[21]||(e[21]=t=>n.changePage("prev"))},"<"),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.pages,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:(0,r.C_)(["pagination__item",{"pagination__item--active":t==c.pageNumber}]),onClick:e=>n.changePage(t)},(0,r.zw)(t),11,V)))),128)),(0,s._)("div",{class:"pagination__after",onClick:e[22]||(e[22]=t=>n.changePage("after"))},">")])])])])):(0,s.kq)("",!0)])}i(7658);var H=i(6154),I={data(){return{products:[],url:this.urlbe+"/product/list?",search:"",gender:"",categorytype:0,category:0,type:"",userRateFilter:0,priceGT:0,priceLT:0,typeSort:"id",isSort:"desc",totalItem:0,totalPage:0,pageNumber:1,limit:12,shoppingCart:[],displayFilter:!1,displayTypeFilter:!1,isSearch:!1}},props:["islogin","isAdmin","urlbe"],created(){this.getList(),this.getTypeList()},methods:{formatPrice(t){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t)},changePageLimit(t){this.limit=t,this.getList()},openFilter(){this.displayFilter=!this.displayFilter},sortChange(){"asc"==this.isSort?this.isSort="desc":this.isSort="asc",this.getList()},userRateStar(t){this.userRateFilter=t},onSearch(){this.isSearch=!0,this.pageNumber=1,this.getList()},changePage(t){"prev"==t&&this.pageNumber>1?this.pageNumber--:"after"==t&&this.pageNumber<this.totalPage?this.pageNumber++:"number"==typeof t&&(this.pageNumber=t),this.getList()},changeType(t){this.category=t,this.pageNumber=1,this.getList(),this.displayTypeFilter=!0},changeTypeSort(t){this.typeSort=t,this.pageNumber=1,this.getList()},filter(){this.pageNumber=1,this.getList(),this.displayFilter=!1},unType(){this.type="",this.pageNumber=1,this.getList(),this.displayTypeFilter=!1},unfilter(){this.pageNumber=1,this.userRateFilter=0,this.priceGT=0,this.priceLT=0,this.getList(),this.displayFilter=!1},async getTypeList(){try{const t=await H.Z.get(this.urlbe+"/category/list?type=0&limit=100&page=1");this.listType=t.data.content}catch(t){console.error(t)}},async getList(){try{var t=this.url+"search="+this.search+"&gender="+this.gender+"&categorytype="+this.categorytype+"&category="+this.category+"&type="+this.type+"&rate="+this.userRateFilter+"&pricegt="+this.priceGT+"&pricelt="+this.priceLT+"&limit="+this.limit+"&page="+this.pageNumber+"&sortby="+this.typeSort+"&sort="+this.isSort;console.log(t);const e=await H.Z.get(t);this.products=e.data.content,this.totalPage=e.data.totalPages,this.totalItem=e.data.totalElements}catch(e){console.error(e)}}},computed:{records(){return[{key:12,value:"12 sản phẩm trên 1 trang"},{key:24,value:"24 sản phẩm trên 1 trang"},{key:36,value:"36 sản phẩm trên 1 trang"}]},pages(){let t=[];for(let e=1;e<=this.totalPage;e++)1==e||e==this.totalPage||Math.abs(e-this.pageNumber)<=2?t.push(e):3==Math.abs(e-this.pageNumber)&&t.push("...");return t}}},M=i(3744);const K=(0,M.Z)(I,[["render",E],["__scopeId","data-v-7beb367c"]]);var Y=K}}]);
//# sourceMappingURL=9.cc2fdfc2.js.map