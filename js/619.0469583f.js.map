{"version":3,"file":"js/619.0469583f.js","mappings":"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","sources":["webpack://web-shop/./src/views/ChangePasswordView.vue","webpack://web-shop/./src/views/ChangePasswordView.vue?12a1"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <img class=\"wave\" src=\"../assets/img/wave.png\" />\r\n    <div class=\"container\">\r\n      <div class=\"img\">\r\n        <img src=\"../assets/img/undraw_window_shopping_re_0kbm.svg\" />\r\n      </div>\r\n      <div class=\"login-content\">\r\n        <div action=\"index.html\">\r\n          <form  @submit.prevent=\"submitForm\">\r\n            <img src=\"../assets/img/avatar.svg\" />\r\n            <h2 class=\"title\">Đổi mật khẩu</h2>\r\n            <div class=\"input-div one\">\r\n              <div class=\"i\">\r\n                <font-awesome-icon :icon=\"['fas', 'user']\" />\r\n              </div>\r\n              <div class=\"div\">\r\n                <input\r\n                  type=\"password\"\r\n                  class=\"input\"\r\n                  placeholder=\"Nhập mật khẩu mới\"\r\n                  v-model=\"password\"\r\n                />\r\n              </div>\r\n              <span v-if=\"errors.password\">\r\n                {{ errors.password }}\r\n              </span>\r\n            </div>\r\n            <div class=\"input-div one\">\r\n              <div class=\"i\">\r\n                <font-awesome-icon :icon=\"['fas', 'user']\" />\r\n              </div>\r\n              <div class=\"div\">\r\n                <input\r\n                  type=\"password\"\r\n                  class=\"input\"\r\n                  placeholder=\"Nhập lại mật khẩu\"\r\n                  v-model=\"confirmPassword\"\r\n                />\r\n              </div>\r\n              <span v-if=\"errors.confirmPassword\">\r\n                {{ errors.confirmPassword }}\r\n              </span>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn\">\r\n              Đổi mật khẩu\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      // isLogin: true,\r\n      confirmPassword: \"\",\r\n      password: \"\",\r\n      user: {},\r\n      errors: {},\r\n    };\r\n  },\r\n\r\n    props: [\"islogin\", \"isAdmin\", \"urlbe\"],\r\n\r\n  methods: {\r\n\r\n    validPassword(password) {\r\n      return password.length >= 6;\r\n    },\r\n\r\n    async submitForm() {\r\n      this.errors = {};\r\n\r\n      if (this.password == \"\") {\r\n        this.errors.password = \"Password is required.\";\r\n      } else if (!this.validPassword(this.password)) {\r\n        this.errors.password = \"Password must be at least 6 characters.\";\r\n      }\r\n\r\n      if (this.confirmPassword == \"\") {\r\n        this.errors.confirmPassword = \"Confirm Password is required.\";\r\n      } else if (this.confirmPassword != this.password) {\r\n        this.errors.confirmPassword = \"Confirm Password is not correct.\";\r\n      }\r\n\r\n      if (Object.keys(this.errors).length === 0) {\r\n        await this.login();\r\n      }\r\n    },\r\n    async login() {\r\n      try {\r\n        const response = await axios.put(\r\n          this.urlbe + \"/user/update/\" + this.user.id,\r\n          {\r\n            username: this.user.username,\r\n            email: this.user.email,\r\n            password: this.password,\r\n            roles: this.user.roles,\r\n            firstName: this.user.firstName,\r\n            lastName: this.user.lastName,\r\n            phone: this.user.phone,\r\n            address: this.user.address,\r\n            avatarUrl: this.user.avatarUrl,\r\n            userInfoEntity: this.user.userInfoEntity\r\n          },\r\n          {\r\n            headers: {\r\n              \"Access-Control-Allow-Origin\": \"*\",\r\n              Authorization: \"Bearer \" + this.$route.params.token,\r\n            },\r\n          }\r\n        );\r\n        alert(\"Đổi mật khẩu thành công\");\r\n        this.$router.push(\"/login\");\r\n        return response;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    async current() {\r\n      try {\r\n        const response = await axios.get(this.urlbe + \"/api/current\", {\r\n          headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n            Authorization: \"Bearer \" + this.$route.params.token,\r\n          },\r\n        });\r\n        this.user = response.data.userEntity;\r\n        return response.data.userEntity;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    this.user = await this.current();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  font-family: \"Poppins\", sans-serif;\r\n  overflow: hidden;\r\n}\r\n\r\n.wave {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  z-index: -1;\r\n}\r\n\r\n.container {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-gap: 7rem;\r\n  padding: 0 2rem;\r\n}\r\n\r\n.img {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n}\r\n\r\n.login-content {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n\r\n.img img {\r\n  width: 500px;\r\n}\r\n\r\nform {\r\n  width: 360px;\r\n}\r\n\r\n.login-content img {\r\n  height: 100px;\r\n}\r\n\r\n.login-content h2 {\r\n  margin: 15px 0;\r\n  color: #333;\r\n  text-transform: uppercase;\r\n  font-size: 2.9rem;\r\n}\r\n\r\n.login-content .input-div {\r\n  position: relative;\r\n  display: grid;\r\n  grid-template-columns: 7% 93%;\r\n  margin: 25px 0;\r\n  padding: 5px 0;\r\n  border-bottom: 2px solid #d9d9d9;\r\n}\r\n\r\n.lable {\r\n  width: 100%;\r\n  font-size: 20px;\r\n  text-align: left;\r\n  font-weight: 500;\r\n}\r\n\r\n.login-content .input-div.one {\r\n  margin-top: 0;\r\n}\r\n\r\n.i {\r\n  color: #d9d9d9;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.i i {\r\n  transition: 0.3s;\r\n}\r\n\r\n.input-div > div {\r\n  position: relative;\r\n  height: 45px;\r\n}\r\n\r\n.input-div span {\r\n  bottom: 0;\r\n  left: 1;\r\n  position: absolute;\r\n  color: red;\r\n}\r\n\r\n.input-div > div > h5 {\r\n  position: absolute;\r\n  left: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #999;\r\n  font-size: 18px;\r\n  transition: 0.3s;\r\n}\r\n\r\n.input-div:before,\r\n.input-div:after {\r\n  content: \"\";\r\n  position: absolute;\r\n  bottom: -2px;\r\n  width: 0%;\r\n  height: 2px;\r\n  background-color: #38d39f;\r\n  transition: 0.4s;\r\n}\r\n\r\n.input-div:before {\r\n  right: 50%;\r\n}\r\n\r\n.input-div:after {\r\n  left: 50%;\r\n}\r\n\r\n.input-div.focus:before,\r\n.input-div.focus:after {\r\n  width: 50%;\r\n}\r\n\r\n.input-div.focus > div > h5 {\r\n  top: -5px;\r\n  font-size: 15px;\r\n}\r\n\r\n.input-div.focus > .i > i {\r\n  color: #38d39f;\r\n}\r\n\r\n.input-div > div > input {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  padding: 0.5rem 0.7rem;\r\n  font-size: 1.2rem;\r\n  color: #555;\r\n  font-family: \"poppins\", sans-serif;\r\n}\r\n\r\n.input-div.pass {\r\n  margin-bottom: 4px;\r\n}\r\n\r\na {\r\n  display: block;\r\n  text-align: right;\r\n  text-decoration: none;\r\n  color: #999;\r\n  font-size: 0.9rem;\r\n  transition: 0.3s;\r\n}\r\n\r\na:hover {\r\n  color: #38d39f;\r\n}\r\n\r\n.btn {\r\n  display: block;\r\n  width: 100%;\r\n  height: 50px;\r\n  border-radius: 25px;\r\n  outline: none;\r\n  border: none;\r\n  background-image: linear-gradient(to right, #32be8f, #38d39f, #32be8f);\r\n  background-size: 200%;\r\n  font-size: 1.2rem;\r\n  color: #fff;\r\n  font-family: \"Poppins\", sans-serif;\r\n  text-transform: uppercase;\r\n  margin: 1rem 0;\r\n  cursor: pointer;\r\n  transition: 0.5s;\r\n}\r\n.btn:hover {\r\n  background-position: right;\r\n}\r\n\r\n@media screen and (max-width: 1050px) {\r\n  .container {\r\n    grid-gap: 5rem;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 1000px) {\r\n  form {\r\n    width: 290px;\r\n  }\r\n\r\n  .login-content h2 {\r\n    font-size: 2.4rem;\r\n    margin: 8px 0;\r\n  }\r\n\r\n  .img img {\r\n    width: 400px;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 900px) {\r\n  .container {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .img {\r\n    display: none;\r\n  }\r\n\r\n  .wave {\r\n    display: none;\r\n  }\r\n\r\n  .login-content {\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ChangePasswordView.vue?vue&type=template&id=f2ba57fa&scoped=true\"\nimport script from \"./ChangePasswordView.vue?vue&type=script&lang=js\"\nexport * from \"./ChangePasswordView.vue?vue&type=script&lang=js\"\n\nimport \"./ChangePasswordView.vue?vue&type=style&index=0&id=f2ba57fa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f2ba57fa\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","_imports_1","action","_imports_2","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_createVNode","_component_font_awesome_icon","icon","_hoisted_11","placeholder","$data","password","$event","errors","_hoisted_12","_toDisplayString","_hoisted_13","_hoisted_14","_hoisted_15","confirmPassword","_hoisted_16","_hoisted_17","data","user","props","methods","validPassword","length","this","Object","keys","login","response","axios","put","urlbe","id","username","email","roles","firstName","lastName","phone","address","avatarUrl","userInfoEntity","headers","Authorization","$route","params","token","alert","$router","push","error","console","current","get","userEntity","created","__exports__","render"],"sourceRoot":""}